# ν„μ¬ μƒνƒ λ° λ‹¤μ λ‹¨κ³„

**λ‚ μ§**: 2025-09-11  
**μ‘μ„±μ**: Claude  
**λ‹¨κ³„**: Phase 2 μ™„λ£ β†’ Phase 3/4 μ§„ν–‰ μ¤€λΉ„

## π“ ν„μ¬ μ§„ν–‰ μƒν™©

### β… μ™„λ£λ λ‹¨κ³„

#### Phase 1: ν΄λμ¤ κµ¬μ΅° λ¦¬ν©ν† λ§ (100% μ™„λ£)
- [x] **Pydantic λ°μ΄ν„° λ¨λΈ**: 14κ° λ¨λΈ μ •μ
- [x] **TechnicalAnalysisService**: MACD/RSI κ³„μ‚° λ΅μ§
- [x] **WatchlistService**: μ›μΉλ¦¬μ¤νΈ κ΄€λ¦¬ μ„λΉ„μ¤
- [x] **TradingService**: λ§¤λ§¤ λ΅μ§ μ„λΉ„μ¤
- [x] **ServiceContainer**: μμ΅΄μ„± μ£Όμ… μ‹μ¤ν…

#### Phase 2: API κµ¬ν„ (100% μ™„λ£)
- [x] **μ›μΉλ¦¬μ¤νΈ API**: 12κ° μ—”λ“ν¬μΈνΈ
- [x] **λ§¤λ§¤ API**: 10κ° μ—”λ“ν¬μΈνΈ  
- [x] **WebSocket API**: μ‹¤μ‹κ°„ λ°μ΄ν„° μ¤νΈλ¦¬λ°
- [x] **μ‹¤μ‹κ°„ μ—…λ°μ΄νΈ**: 2μ΄ μ£ΌκΈ° PyQt5μ™€ λ™μΌ
- [x] **νƒ€μ… μ•μ „μ„±**: λ¨λ“  API Pydantic λ¨λΈ μ μ©

### π”„ ν„μ¬ μ§„ν–‰ μ¤‘

#### Phase 3: ν…μ¤νΈ μ‘μ„± (μ‹μ‘ μμ •)
- [ ] **μ„λΉ„μ¤ λ‹¨μ„ ν…μ¤νΈ**: TechnicalAnalysisService, WatchlistService, TradingService
- [ ] **API μ—”λ“ν¬μΈνΈ ν…μ¤νΈ**: FastAPI TestClient ν™μ©
- [ ] **WebSocket ν…μ¤νΈ**: μ‹¤μ‹κ°„ μ—°κ²° λ° λ©”μ‹μ§€ ν…μ¤νΈ
- [ ] **ν†µν•© ν…μ¤νΈ**: μ „μ²΄ μ›ν¬ν”λ΅μ° ν…μ¤νΈ

#### Phase 4: ν”„λ΅ νΈμ—”λ“ μ—°λ™ (μ¤€λΉ„ μ™„λ£)
- [ ] **λ”λ―Έ λ°μ΄ν„° κµμ²΄**: μ‹¤μ  API νΈμ¶λ΅ λ³€κ²½
- [ ] **WebSocket μ—°κ²°**: μ‹¤μ‹κ°„ μ—…λ°μ΄νΈ κµ¬ν„
- [ ] **UI κ°μ„ **: λ΅λ”© μƒνƒ, μ—λ¬ μ²λ¦¬
- [ ] **μ‚¬μ©μ κ²½ν—**: μ‹¤μ‹κ°„ ν”Όλ“λ°± κµ¬ν„

## π― κµ¬ν„λ ν•µμ‹¬ κΈ°λ¥

### 1. μ™„μ „ν• PyQt5 κΈ°λ¥ μ¬ν„
```python
# κΈ°μ μ  μ§€ν‘ κ³„μ‚° (λ™μΌν• νλΌλ―Έν„°)
MACD: (9, 18, 6) - EMA κΈ°λ°
RSI: (14) - TA-Lib κΈ°λ°

# λ§¤λ§¤ μ΅°κ±΄ (λ™μΌν• λ΅μ§)
λ§¤μ: MACD μƒν–¥λν AND RSI >= 30
λ§¤λ„: MACD ν•ν–¥λν OR RSI <= 70 OR μμµλ¥  μ΅°κ±΄

# μ‹¤μ‹κ°„ μ—…λ°μ΄νΈ (λ™μΌν• μ£ΌκΈ°)
2μ΄λ§λ‹¤ μ›μΉλ¦¬μ¤νΈ κ°±μ‹  λ° λΈλ΅λ“μΊμ¤νΈ
```

### 2. ν„λ€μ  μ›Ή μ•„ν‚¤ν…μ²
```python
# RESTful API (29κ° μ—”λ“ν¬μΈνΈ)
GET /api/watchlist - μ›μΉλ¦¬μ¤νΈ μ΅°ν
POST /api/watchlist/add - μΆ…λ© μ¶”κ°€
WebSocket /ws - μ‹¤μ‹κ°„ μ¤νΈλ¦¬λ°

# νƒ€μ… μ•μ „μ„± (100% Pydantic)
WatchlistItem, TradingConditions, TechnicalIndicators

# λΉ„λ™κΈ° μ²λ¦¬ (μ„±λ¥ μµμ ν™”)
async/await ν¨ν„΄, λ™μ‹ μ—…λ°μ΄νΈ μ²λ¦¬
```

### 3. μ‹¤μ‹κ°„ λ°μ΄ν„° μ‹μ¤ν…
```python
# WebSocket κΈ°λ¥
- μΆ…λ©λ³„ κµ¬λ… μ‹μ¤ν…
- μ‹¤μ‹κ°„ κ°€κ²© μ—…λ°μ΄νΈ
- λ§¤λ§¤ μ‹ νΈ λΈλ΅λ“μΊμ¤νΈ
- μλ™ μ—°κ²° κ΄€λ¦¬

# λΈλ΅λ“μΊμ¤νΈ λ©”μ‹μ§€ νƒ€μ…
- price_update: κ°€κ²© λ³€λ™
- watchlist_update: μ›μΉλ¦¬μ¤νΈ λ³€κ²½
- trading_signal: λ§¤λ§¤ μ‹ νΈ
- trading_execution: κ±°λ μ‹¤ν–‰
```

## π“ μ„±κ³Ό μ§€ν‘

### κΈ°μ μ  μ™„μ„±λ„
- **API μ»¤λ²„λ¦¬μ§€**: PyQt5 κΈ°λ¥ 100% κµ¬ν„
- **νƒ€μ… μ•μ „μ„±**: λ¨λ“  λ°μ΄ν„° λ¨λΈ Pydantic μ μ©
- **μ‹¤μ‹κ°„μ„±**: 2μ΄ μ΄λ‚΄ μ—…λ°μ΄νΈ λ³΄μ¥
- **ν™•μ¥μ„±**: λ¨λ“ν™”λ μ„λΉ„μ¤ μ•„ν‚¤ν…μ²

### μ½”λ“ ν’μ§
- **μ„λΉ„μ¤ λ¶„λ¦¬**: 4κ° λ…λ¦½μ  μ„λΉ„μ¤
- **μμ΅΄μ„± μ£Όμ…**: ν…μ¤νΈ κ°€λ¥ν• κµ¬μ΅°
- **μ—λ¬ μ²λ¦¬**: λ¨λ“  μ—”λ“ν¬μΈνΈ μμ™Έ μ²λ¦¬
- **λ΅κΉ…**: κµ¬μ΅°ν™”λ λ””λ²„κ·Έ μ •λ³΄

### μ„±λ¥ μµμ ν™”
- **λ©”λ¨λ¦¬ κ΄€λ¦¬**: 200κ° λ°μ΄ν„° ν¬μΈνΈ μ ν•
- **μ—°κ²° ν¨μ¨μ„±**: WebSocket κµ¬λ… μ‹μ¤ν…
- **λΉ„λ™κΈ° μ²λ¦¬**: λ…ΌλΈ”λ΅ν‚Ή I/O μ‘μ—…

## π€ λ‹¤μ λ‹¨κ³„ κ³„ν

### Phase 3: API ν…μ¤νΈ λ° κ²€μ¦
```python
# μ°μ„ μμ„ 1: μ„λΉ„μ¤ λ‹¨μ„ ν…μ¤νΈ
def test_technical_analysis_service():
    # MACD, RSI κ³„μ‚° μ •ν™•μ„± κ²€μ¦
    # PyQt5 κ²°κ³Όμ™€ λΉ„κµ κ²€μ¦

def test_watchlist_service():
    # μΆ…λ© μ¶”κ°€/μ κ±° λ΅μ§ κ²€μ¦
    # μ‹¤μ‹κ°„ μ—…λ°μ΄νΈ λ΅μ§ κ²€μ¦

def test_trading_service():
    # λ§¤λ§¤ μ΅°κ±΄ μ²΄ν¬ λ΅μ§ κ²€μ¦
    # μ£Όλ¬Έ μ‹¤ν–‰ λ΅μ§ κ²€μ¦

# μ°μ„ μμ„ 2: API ν†µν•© ν…μ¤νΈ
def test_api_endpoints():
    # λ¨λ“  μ—”λ“ν¬μΈνΈ μ •μƒ μ‘λ™ ν™•μΈ
    # μ—λ¬ μΌ€μ΄μ¤ μ²λ¦¬ ν™•μΈ

def test_websocket_integration():
    # μ‹¤μ‹κ°„ μ—°κ²° λ° λ©”μ‹μ§€ μ „μ†΅ ν™•μΈ
    # κµ¬λ… μ‹μ¤ν… μ •μƒ μ‘λ™ ν™•μΈ
```

### Phase 4: ν”„λ΅ νΈμ—”λ“ μ—°λ™
```typescript
// μ°μ„ μμ„ 1: λ”λ―Έ λ°μ΄ν„° κµμ²΄
// ν„μ¬: const mockWatchlist = [...]
// λ³€κ²½: const watchlist = await api.getWatchlist()

// μ°μ„ μμ„ 2: WebSocket μ—°κ²°
const ws = new WebSocket('ws://localhost:8000/ws');
ws.onmessage = (event) => {
  const data = JSON.parse(event.data);
  handleRealTimeUpdate(data);
};

// μ°μ„ μμ„ 3: UI κ°μ„ 
- λ΅λ”© μƒνƒ ν‘μ‹
- μ—λ¬ μ²λ¦¬ λ° μ¬μ‹λ„
- μ‹¤μ‹κ°„ ν”Όλ“λ°± (κ°€κ²© λ³€λ™ μ• λ‹λ©”μ΄μ…)
```

## π”§ κΈ°μ μ  κ³Όμ  λ° ν•΄κ²°λ°©μ•

### 1. λ°μ΄ν„° λ™κΈ°ν™”
**κ³Όμ **: μ—¬λ¬ ν΄λΌμ΄μ–ΈνΈ κ°„ λ°μ΄ν„° μΌκ΄€μ„±  
**ν•΄κ²°λ°©μ•**: 
- μ¤‘μ•™μ§‘μ¤‘μ‹ μƒνƒ κ΄€λ¦¬ (WatchlistService)
- WebSocket λΈλ΅λ“μΊμ¤νΈλ΅ μ¦‰μ‹ λ™κΈ°ν™”
- ν΄λΌμ΄μ–ΈνΈ μ¬μ—°κ²° μ‹ μ „μ²΄ μƒνƒ λ³µκµ¬

### 2. μ„±λ¥ μµμ ν™”
**κ³Όμ **: μ‹¤μ‹κ°„ μ—…λ°μ΄νΈμ ν¨μ¨μ  μ²λ¦¬  
**ν•΄κ²°λ°©μ•**:
- κµ¬λ… κΈ°λ° μ„ νƒμ  μ „μ†΅
- λ°μ΄ν„° μ••μ¶• λ° μµμ ν™”
- λ©”λ¨λ¦¬ μ‚¬μ©λ‰ λ¨λ‹ν„°λ§

### 3. μ¤λ¥ λ³µκµ¬
**κ³Όμ **: λ„¤νΈμ›ν¬ λ‹¨μ  λ° μ„λΉ„μ¤ μ¤λ¥ μ²λ¦¬  
**ν•΄κ²°λ°©μ•**:
- μλ™ μ¬μ—°κ²° λ΅μ§
- λ°±μ¤ν”„ μ „λµ μ μ©
- μƒνƒ λ³µκµ¬ λ©”μ»¤λ‹μ¦

## π“‹ μ¦‰μ‹ μ‹¤ν–‰ κ°€λ¥ν• λ‹¤μ μ‘μ—…

### 1. API ν…μ¤νΈ μ‘μ„± (1-2μ‹κ°„)
```bash
# ν…μ¤νΈ ν™κ²½ μ„¤μ •
pip install pytest pytest-asyncio httpx

# ν…μ¤νΈ νμΌ μƒμ„±
tests/
β”β”€β”€ test_services/
β”‚   β”β”€β”€ test_technical_analysis.py
β”‚   β”β”€β”€ test_watchlist_service.py
β”‚   β””β”€β”€ test_trading_service.py
β””β”€β”€ test_api/
    β”β”€β”€ test_watchlist_endpoints.py
    β””β”€β”€ test_trading_endpoints.py
```

### 2. ν”„λ΅ νΈμ—”λ“ API μ—°λ™ (2-3μ‹κ°„)
```typescript
// API ν΄λΌμ΄μ–ΈνΈ μƒμ„±
// WebSocket μ—°κ²° κµ¬ν„
// λ”λ―Έ λ°μ΄ν„° κµμ²΄
// UI μƒνƒ κ΄€λ¦¬ κ°μ„ 
```

### 3. ν†µν•© ν…μ¤νΈ (1μ‹κ°„)
```python
# μ „μ²΄ μ›ν¬ν”λ΅μ° ν…μ¤νΈ
# μΆ…λ© μ¶”κ°€ β†’ μ‹¤μ‹κ°„ μ—…λ°μ΄νΈ β†’ λ§¤λ§¤ μ‹ νΈ β†’ μ£Όλ¬Έ μ‹¤ν–‰
```

## π― μµμΆ… λ©ν‘

### μ™„μ „ν• μ£Όμ‹ κ±°λ μ‹μ¤ν…
1. **μ‹¤μ‹κ°„ μ›μΉλ¦¬μ¤νΈ**: PyQt5μ™€ λ™μΌν• κΈ°λ¥
2. **μλ™λ§¤λ§¤**: MACD/RSI κΈ°λ° μλ™ κ±°λ
3. **μ›Ή μΈν„°νμ΄μ¤**: λ¨λν• React UI
4. **μ‹¤μ‹κ°„ μ—…λ°μ΄νΈ**: μ¦‰μ‹ λ°μλλ” λ°μ΄ν„°
5. **μ•μ •μ„±**: 24μ‹κ°„ μ—°μ† μ΄μ κ°€λ¥

ν„μ¬ μ•½ 70% μ™„μ„±λ„μ— λ„λ‹¬ν–μΌλ©°, λ‚λ¨Έμ§€ 30%λ” ν…μ¤νΈ μ‘μ„±κ³Ό ν”„λ΅ νΈμ—”λ“ μ—°λ™μΌλ΅ κµ¬μ„±λ©λ‹λ‹¤. ν•µμ‹¬ λ°±μ—”λ“ λ΅μ§μ€ λ¨λ‘ μ™„μ„±λμ—μΌλ―€λ΅ μ•μ •μ μΈ μ„λΉ„μ¤ μ κ³µμ΄ κ°€λ¥ν• μƒνƒμ…λ‹λ‹¤.